<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>QBittorrent on</title><link>https://blog.ooooo.space/tags/qbittorrent/</link><description>Recent content in QBittorrent on</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 15 May 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.ooooo.space/tags/qbittorrent/feed.xml" rel="self" type="application/rss+xml"/><item><title>解决字幕组命名不规范问题：使用Episode-ReName工具</title><link>https://blog.ooooo.space/p/%E8%A7%A3%E5%86%B3%E5%AD%97%E5%B9%95%E7%BB%84%E5%91%BD%E5%90%8D%E4%B8%8D%E8%A7%84%E8%8C%83%E9%97%AE%E9%A2%98%E4%BD%BF%E7%94%A8episode-rename%E5%B7%A5%E5%85%B7/</link><pubDate>Sun, 15 May 2022 00:00:00 +0000</pubDate><guid>https://blog.ooooo.space/p/%E8%A7%A3%E5%86%B3%E5%AD%97%E5%B9%95%E7%BB%84%E5%91%BD%E5%90%8D%E4%B8%8D%E8%A7%84%E8%8C%83%E9%97%AE%E9%A2%98%E4%BD%BF%E7%94%A8episode-rename%E5%B7%A5%E5%85%B7/</guid><description>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/uPic/2023-11/0sko2h.jpg" alt="Featured image of post 解决字幕组命名不规范问题：使用Episode-ReName工具" />&lt;h1 id="材料">材料
&lt;/h1>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Nriver/Episode-ReName" title="Episode-ReName"
target="_blank" rel="noopener"
>Episode-ReName&lt;/a>（以下简称 er）&lt;/li>
&lt;li>&lt;a class="link" href="https://zh.wikipedia.org/zh-cn/QBittorrent" title="qBittorrent"
target="_blank" rel="noopener"
>qBittorrent&lt;/a>（以下简称 qb）&lt;/li>
&lt;/ul>
&lt;h1 id="背景">背景
&lt;/h1>&lt;p>很多字幕组种子的命名格式往往不是按照&lt;code>SxxExx&lt;/code>的格式来命名的，而 Emby，Plex 等媒体服务器都是以识别&lt;code>SxxExx&lt;/code>来刮削剧集的元数据。因此为了让这些媒体服务器识别剧集，我们往往需要重命名下载的文件。&lt;/p>
&lt;h1 id="期望">期望
&lt;/h1>&lt;p>qb 下载剧集后，自动将不符合的资源名命名为形如&lt;code>'剧集名 - SxxExx.mp4'&lt;/code>&lt;/p>
&lt;h1 id="实践">实践
&lt;/h1>&lt;h2 id="流程">流程
&lt;/h2>&lt;ol>
&lt;li>克隆 er 源代码,使用 pyinstaller 将 EpisodeReName.py 编译成可执行程序。（作者在原仓库有提供 windows 的，win 用户可以直接下载使用，我是 linux 环境，因此自己编译）,将可执行程序放到你想要它在的文件夹下面（我直接上传群晖下的文件夹）&lt;/li>
&lt;li>设置 qb 下的「Torrent 完成时运行外部程序」，填入程序路径和必要参数&lt;/li>
&lt;/ol>
&lt;h2 id="编译可执行程序">编译可执行程序
&lt;/h2>&lt;p>win 用户跳过此步骤，直接在原仓库下载作者提供的程序；linux 用户可以直接在本地使用 pyinstaller 来操作编译（docker 也行）。如果是 mac 用户则可以使用 docker 镜像来编译 linux 程序。m1 用户建议换台电脑，目前 docker 镜像编译有问题&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /你的工作目录
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 拉取源代码&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/Nriver/Episode-ReName.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> Episode-ReName
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装所需 requirements （requirements中包含了pyinstaller，如果是docker编译，可以把pyinstaller去掉）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 install -r requirements.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 编译（非docker方式）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pyinstaller -F EpisodeReName.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 编译（docker方式）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -v &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">pwd&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">:/src/&amp;#34;&lt;/span> cdrx/pyinstaller-linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 移动编译后程序到你想要的文件夹。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv ./dist/linux/EpisodeReName anywhere
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 我是在mac上编译的，因此把它复制到我的群晖上&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scp ./dist/linux/EpisodeReName shelken@192.168.0.80:/volume1/docker/qb-web/script/Episode-ReName/dist/EpisodeReName
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="设置-qb-执行程序">设置 qb 执行程序
&lt;/h2>&lt;p>打开工具-&amp;gt;选项-&amp;gt;下载。开启「Torrent 完成时运行外部程序」，填入你的程序地址&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/a8fd15af.png"
loading="lazy"
alt="image-20220515171458914"
>&lt;/p>
&lt;p>参数解释：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">qb参数：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">%F：如果种子是单文件的，那么输出则为：/保存路径/xxxxx.mp4；如果是多文件。那么则会是: /保存路径/根目录名。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">er参数：（这部分详细可以去看原文档，这里只介绍我使用的）
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--path：目标路径，可以是单文件，可以是目录，目录会处理所有该目录下文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--delay: 延迟多久操作，默认为0秒不等待，这个参数主要是配合qbitorrent使用, 避免qb锁定文件导致重命名失败. 一般停止做种15秒后在操作能确保文件被释放
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--name_format：自定义重命名格式, 参数需要加引号 默认为 &amp;#34;S{season}E{ep}&amp;#34; 可以选择性加入 series系列名称 如 &amp;#34;{series} - S{season}E{ep}&amp;#34;。这里我使用了第二种格式。
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">举例:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/volume1/docker/qb-web/script/Episode-ReName/dist/EpisodeReName --path=&amp;#34;%F&amp;#34; --delay=15 --name_format=&amp;#34;{series} - S{season}E{ep}&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="技巧">技巧
&lt;/h1>&lt;h2 id="查看-qb-日志">查看 qb 日志
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># volume1：取决于你套件安装在哪个存储空间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat /volume1/&lt;span class="se">\@&lt;/span>appstore/qBittorrent/qBittorrent_conf/data/logs/qbittorrent.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="给可执行程序赋权">给可执行程序赋权
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 如果不能执行程序，尝试给EpisodeReName执行程序赋予可执行权限&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x /所在目录/EpisodeReName
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="多季番剧tmdb集数适配">多季番剧tmdb集数适配
&lt;/h2>&lt;p>对于有多季的番剧, 比如鬼灭之刃28集, 在tmdb里没有第28集, 而是第2季第2集, 要正确削刮需要从S02E28改成S02E02.&lt;/p>
&lt;p>这时候可以在鬼灭之刃的&lt;code>Season 2&lt;/code>文件夹中添加一个&lt;code>all.txt&lt;/code>文件, 里面写上一个数字, 会在自动重命名的时候减掉这个数字. 比如上面的例子就需要在&lt;code>all.txt&lt;/code>填入26, 自动重命名就会把S02E28改成S02E02, 这样就能正常削刮了.&lt;/p>
&lt;h1 id="注意">注意
&lt;/h1>&lt;h2 id="文件夹命名格式">文件夹命名格式
&lt;/h2>&lt;p>剧名和季数是根据文件夹命名来识别的，集数是根据文件名的数字。&lt;/p>
&lt;h3 id="剧名与季数">剧名与季数
&lt;/h3>&lt;p>形如：/剧集目录/剧名/Season 1/&lt;/p>
&lt;p>季数命名格式要求：Season1 / Season 1 / s1 / S1&lt;/p>
&lt;p>举例：/volume1/Video/watch/夏日重现/s1&lt;/p>
&lt;h3 id="集数">集数
&lt;/h3>&lt;p>形如：/剧集目录/剧名/Season 1/xxxx[01]xxxxxx.mp4&lt;/p>
&lt;p>集数命名匹配的正则：会匹配在括号（各种括号）内的数字，数字规则如下，以找到的第一个符合项作为集数&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">patterns&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 1到4位数字&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;(\d{1,4}(\.5)?)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 特殊文字处理&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;第(\d{1,4}(\.5)?)集&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;第(\d{1,4}(\.5)?)话&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;第(\d{1,4}(\.5)?)話&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;[Ee][Pp](\d{1,4}(\.5 &amp;#34;Ee][Pp&amp;#34;)?)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;[Ee](\d{1,4}(\.5 &amp;#34;Ee&amp;#34;)?)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 兼容SP01等命名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;[Ss][Pp](\d{1,4}(\.5 &amp;#34;Ss][Pp&amp;#34;)?)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 兼容v2命名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;(\d{1,4}(\.5)?)[Vv]?\d?&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>举例:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 输入：/volume1/Video/watch/夏日重现/s1/[Nekomoe kissaten][Summer Time Rendering][05][1080p][JPSC].mp4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 输出：/volume1/Video/watch/夏日重现/s1/夏日重现 - S01E05.mp4&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="做种问题">做种问题
&lt;/h2>&lt;p>qb 的「Torrent 完成时运行外部程序」功能，会在下载完资源的时候，立刻去执行程序，也就是说在下载完之后，我们的文件会被立刻重命名，这导致了我们做种会出现问题，因此我们无法做到下载后再把这个资源分享给其他人。目前也没有好的方式解决。可以考虑不是呀 qb 的这个功能，直接定时任务去执行程序，扫描固定的目录来重命名。&lt;/p></description></item><item><title>qBittorrent的RSS订阅下载指南</title><link>https://blog.ooooo.space/p/qbittorrent%E7%9A%84rss%E8%AE%A2%E9%98%85%E4%B8%8B%E8%BD%BD%E6%8C%87%E5%8D%97/</link><pubDate>Sat, 14 May 2022 00:00:00 +0000</pubDate><guid>https://blog.ooooo.space/p/qbittorrent%E7%9A%84rss%E8%AE%A2%E9%98%85%E4%B8%8B%E8%BD%BD%E6%8C%87%E5%8D%97/</guid><description>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/uPic/2023-11/TrVKhx.png" alt="Featured image of post qBittorrent的RSS订阅下载指南" />&lt;h1 id="材料">材料
&lt;/h1>&lt;ul>
&lt;li>qBittorrent（&lt;a class="link" href="https://zh.wikipedia.org/zh-cn/QBittorrent" title="wiki"
target="_blank" rel="noopener"
>wiki&lt;/a>）（以下简称 qb）&lt;/li>
&lt;li>支持 rss 订阅的种子站（e.g. &lt;a class="link" href="https://nyaa.si/" title="nyaa"
target="_blank" rel="noopener"
>nyaa&lt;/a>(&lt;a class="link" href="https://zh.wikipedia.org/wiki/Nyaa_Torrents" title="wiki"
target="_blank" rel="noopener"
>wiki&lt;/a>)）&lt;/li>
&lt;/ul>
&lt;h1 id="实现">实现
&lt;/h1>&lt;ul>
&lt;li>
&lt;p>打开 qb 配置页面，我的是部署在群晖的 qb，因此使用 web 页面来管理；如果是程序也一样。将启用 rss 订阅打开，间隔与数目最大值根据自定，然后将下面的「自动下载」打开，打开后我们才能在 rss 订阅更新时自动下载你订阅的资源。&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/f1d3767f.png"
loading="lazy"
alt="image-20220514141431969"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>然后点右侧的 「RSS」&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/5b8d4dd7.png"
loading="lazy"
alt="image-20220514142037691"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>然后我们先离开一下 qb，去你需要订阅资源的 bt 下载站。这里以我自己的需求做演示，我们来到「nyaa」;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>首先，我确定了我需要的订阅的内容：是&lt;code>喵萌奶茶屋字幕组&lt;/code>翻译的&lt;code>夏日重现&lt;/code>，并只要 &lt;code>1080p&lt;/code> 的资源内容。这里我搜索「喵萌奶茶屋 夏日重现 1080p」，可以看到结果非常符合我的预期。因为字幕组的命名基本是固定的，所以这个搜索结果基本是稳定的。&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/4ef9fb73.png"
loading="lazy"
alt="image-20220514142759551"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>点击 RSS&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/6f61e324.png"
loading="lazy"
alt="image-20220514143533237"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>可以看到地址 url 变了，因此我们知道，只要在原来的内容加上&lt;code>page=rss&lt;/code>，那么就拿到我们的 &lt;code>rss&lt;/code> 订阅地址&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">原 url：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://nyaa.si/?f=0&amp;amp;c=0_0&amp;amp;q=%E5%96%B5%E8%90%8C%E5%A5%B6%E8%8C%B6%E5%B1%8B+%E5%A4%8F%E6%97%A5%E9%87%8D%E7%8E%B0+1080p
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">新 url:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://nyaa.si/?c=0_0&amp;amp;f=0&amp;amp;q=%E5%96%B5%E8%90%8C%E5%A5%B6%E8%8C%B6%E5%B1%8B+%E5%A4%8F%E6%97%A5%E9%87%8D%E7%8E%B0+1080p&amp;amp;page=rss
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>
&lt;p>回到 qb 界面，订阅 rss&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/6789a4a8.png"
loading="lazy"
alt="image-20220514150256737"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>然后打开&lt;code>rss下载器&lt;/code>，新建一个下载规则；这里我讲解一下规则定义。&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/b487994c.png"
loading="lazy"
alt="image-20220514150525225"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>空格&lt;/code>代表&lt;code>与&lt;/code>关系，即这些关键词都必须有才匹配上。&lt;code>|&lt;/code>代表&lt;code>或&lt;/code>关系，即只要有一个关键词命中就匹配，&lt;code>?&lt;/code>代表一个字符，&lt;code>*&lt;/code>代表 0 或多个字符。这里我们甚至可以使用正则表达式，能实现更加复杂的限制。&lt;/p>
&lt;p>这里我的&lt;code>必须包含&lt;/code>则进一步限制当前规则的下匹配资源的条件。&lt;code>必须不含&lt;/code>里的&lt;code>合集&lt;/code>则是考虑到字幕组会在番剧结束后打包一个合集目录，一次我们把带有&lt;code>合集&lt;/code>字样的资源排除掉。由于我之前下载过这些剧集，因此我把 1-3 的内容也排除掉。&lt;code>剧集过滤器&lt;/code>在这里是没用的，因为大部分番剧字幕组没有按照欧美剧集的格式来命名（形如：S01E01）。因此这里没有作用。&lt;code>分类&lt;/code>与&lt;code>保存目录&lt;/code>可以自定义。可能你的每个规则对应多个 rss 订阅，也可以只对应一个 rss 订阅，这里完全看自己习惯和方式，&lt;code>添加后不开始下载&lt;/code>这里我选择从不，这样会关联规则和订阅后，自动下载未下载过的匹配的订阅资源。&lt;code>布局&lt;/code>按全局就行，不是那么重要。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>然后将你&lt;code>配置好的规则&lt;/code>和你&lt;code>订阅的RSS链接&lt;/code>进行关联，保存&lt;/p>
&lt;p>&lt;img src="https://gcore.jsdelivr.net/gh/shelken/picbed@main/PicGo/2023-11/a9c9770d.png"
loading="lazy"
alt="image-20220514152624596"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>至此，你的 qb 每隔 xx 分钟去刷新订阅，当有新资源发布在种子网站时，qb 会自动下载符合你定义的资源，并保存在你定义的目录下。&lt;/p>
&lt;/li>
&lt;/ul></description></item></channel></rss>